!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("isomorphic-unfetch")):"function"==typeof define&&define.amd?define(["exports","isomorphic-unfetch"],e):e((t||self).dhanhq={},t.isomorphicUnfetch)}(this,function(t,e){function r(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,e}var n,i,o,s,O,u,c,E,T,S,d,a,I,f=/*#__PURE__*/r(e);function p(){return p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p.apply(this,arguments)}function h(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,N(t,e)}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}t.DhanEnv=void 0,(n=t.DhanEnv||(t.DhanEnv={})).PROD="PROD",n.SANDBOX="SANDBOX",t.DrvOptionType=void 0,(i=t.DrvOptionType||(t.DrvOptionType={})).CALL="CALL",i.PUT="PUT",t.Exchange=void 0,(o=t.Exchange||(t.Exchange={})).NSE="NSE",o.BSE="BSE",t.ExchangeSegment=void 0,(s=t.ExchangeSegment||(t.ExchangeSegment={})).NSE_EQ="NSE_EQ",s.NSE_FNO="NSE_FNO",s.NSE_CURRENCY="NSE_CURRENCY",s.BSE_EQ="BSE_EQ",s.MCX_COMM="MCX_COMM",s.IDX_I="IDX_I",t.Instrument=void 0,(O=t.Instrument||(t.Instrument={})).EQUITY="EQUITY",O.FUTCOM="FUTCOM",O.FUTCUR="FUTCUR",O.FUTIDX="FUTIDX",O.FUTSTK="FUTSTK",O.INDEX="INDEX",t.ProductType=void 0,(u=t.ProductType||(t.ProductType={})).CNC="CNC",u.INTRADAY="INTRADAY",u.MARGIN="MARGIN",u.CO="CO",u.BO="BO",u.MTF="MTF",t.AmoTime=void 0,(c=t.AmoTime||(t.AmoTime={})).OPEN="OPEN",c.OPEN_30="OPEN_30",c.OPEN_60="OPEN_60",t.LegName=void 0,(E=t.LegName||(t.LegName={})).ENTRY_LEG="ENTRY_LEG",E.TARGET_LEG="TARGET_LEG",E.STOP_LOSS_LEG="STOP_LOSS_LEG",t.OrderStatus=void 0,(T=t.OrderStatus||(t.OrderStatus={})).TRANSIT="TRANSIT",T.PENDING="PENDING",T.REJECTED="REJECTED",T.CANCELLED="CANCELLED",T.TRADED="TRADED",T.EXPIRED="EXPIRED",t.OrderType=void 0,(S=t.OrderType||(t.OrderType={})).LIMIT="LIMIT",S.MARKET="MARKET",S.STOP_LOSS="STOP_LOSS",S.STOP_LOSS_MARKET="STOP_LOSS_MARKET",t.TransactionType=void 0,(d=t.TransactionType||(t.TransactionType={})).BUY="BUY",d.SELL="SELL",t.Validity=void 0,(a=t.Validity||(t.Validity={})).DAY="DAY",a.IOC="IOC",t.PositionType=void 0,(I=t.PositionType||(t.PositionType={})).LONG="LONG",I.SHORT="SHORT",I.CLOSED="CLOSED";var R=f.default||f,y=/*#__PURE__*/function(){function t(t){this.accessToken=void 0,this.baseUrl=void 0,this.accessToken=t.accessToken||"",this.baseUrl="https://api.dhan.co"}return t.prototype.request=function(t,e){var r=""+this.baseUrl+t,n=p({},e,{headers:{"Content-Type":"application/json","access-token":this.accessToken}});return R(r,n).then(function(t){return t.json()})},t}(),D=function(){};D.ORDERS="/orders",D.ORDERS_SLICING="/orders/slicing",D.ORDERS_BY_CORRELATION="/orders/external",D.TRADE_BOOK="/trades",D.HOLDINGS="/holdings",D.POSITIONS="/positions",D.POSITIONS_CONVERT="/positions/convert",D.EDIS="/edis/tpin",D.EDIS_FORM="/edis/form",D.EDIS_INQUIRE_ISIN="/edis/inquire/isin",D.FUND_LIMIT="/fundlimit",D.HISTORICAL="/charts/historical",D.HISTORICAL_INTRADAY="/charts/intraday";var _,L=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}h(e,t);var r=e.prototype;return r.generateTpin=function(){return this.request("/"+D.EDIS)},r.postEdisTpinForm=function(t){return this.request("/"+D.EDIS_FORM,{method:"POST",body:JSON.stringify(t)})},r.getEdisStatusAndInquiry=function(){return this.request("/"+D.EDIS_INQUIRE_ISIN)},r.getFundLimit=function(){return this.request("/"+D.FUND_LIMIT)},r.getDailyHistoricalData=function(t){return this.request("/"+D.HISTORICAL,{method:"POST",body:JSON.stringify(t)})},r.getIntradayHistoricalData=function(t){return this.request("/"+D.HISTORICAL_INTRADAY,{method:"POST",body:JSON.stringify(t)})},r.placeOrder=function(t){return this.request("/"+D.ORDERS,{method:"POST",body:JSON.stringify(t)})},r.modifyOrder=function(t,e){return this.request("/"+D.ORDERS+"/"+t,{method:"PUT",body:JSON.stringify(e)})},r.cancelOrderByOrderId=function(t){return this.request("/"+D.ORDERS+"/"+t,{method:"DELETE"})},r.placeSliceOrder=function(t){return this.request("/"+D.ORDERS_SLICING,{method:"POST",body:JSON.stringify(t)})},r.getAllOrders=function(){return this.request("/"+D.ORDERS)},r.getOrderByOrderId=function(t){return this.request("/"+D.ORDERS+"/"+t)},r.getOrderByCorrelationId=function(t){return this.request("/"+D.ORDERS_BY_CORRELATION+"/"+t)},r.getTradeBook=function(){return this.request("/"+D.TRADE_BOOK)},r.getTradesOfAnOrderByOrderId=function(t){return this.request("/"+D.TRADE_BOOK+"/"+t)},r.getHoldings=function(){return this.request("/"+D.HOLDINGS)},r.getPositions=function(){return this.request("/"+D.POSITIONS)},r.convertPosition=function(t){return this.request("/"+D.POSITIONS_CONVERT,{method:"POST",body:JSON.stringify(t)})},e}(y),P=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return h(e,t),e}(y);_=P,[L].forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(e){Object.defineProperty(_.prototype,e,Object.getOwnPropertyDescriptor(t.prototype,e))})}),t.DhanHqClient=P});
